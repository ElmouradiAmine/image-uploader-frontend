(this["webpackJsonpkeeper-part-3-starting"]=this["webpackJsonpkeeper-part-3-starting"]||[]).push([[0],{37:function(e,t,a){e.exports=a(48)},48:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(6),r=a.n(l),c=a(13),o=a(26),m=a.n(o);var p=function(){return i.a.createElement("header",null,i.a.createElement("h1",null,i.a.createElement(m.a,null)," Imagix "))};var u=function(){const e=(new Date).getFullYear();return i.a.createElement("footer",null,i.a.createElement("p",null,"Copyright \u24d2 ",e," Amine Elmouradi"))},s=a(31),d=a.n(s);var g=function(e){return console.log(e.url),i.a.createElement("div",{className:"note"},i.a.createElement("h1",null,e.title),i.a.createElement("p",null,e.description),i.a.createElement("img",{src:e.url,alt:"img"}),i.a.createElement("button",{onClick:()=>{e.onDelete(e.id)}},i.a.createElement(d.a,{style:{color:"red",backgroundColor:"transparent"}})))},E=a(24),h=a(32),f=a.n(h),b=a(63),j=a(64);var k=function(e){const t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)({title:"",description:""}),m=Object(c.a)(o,2),p=m[0],u=m[1];function s(e){const t=e.target,a=t.name,n=t.value;u(e=>Object(E.a)(Object(E.a)({},e),{},{[a]:n}))}return i.a.createElement("div",null,i.a.createElement("form",{action:"/",encType:"multipart/form-data",method:"post"},l&&i.a.createElement("input",{value:p.title,name:"title",placeholder:"Title",onChange:s}),i.a.createElement("textarea",{value:p.description,name:"description",placeholder:"Take a image...",rows:l?"3":"1",onChange:s,onClick:()=>{r(!0)}}),l&&i.a.createElement("input",{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg"}),i.a.createElement(j.a,{in:l},i.a.createElement(b.a,{className:"add-button",onClick:t=>{e.onAdd(p),u({title:"",description:""}),r(!1),t.preventDefault()}},i.a.createElement(f.a,null)))))};var v=function(){const e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!0),o=Object(c.a)(r,2),m=o[0],s=o[1];function d(e){fetch("https://imagix-app-api.herokuapp.com/images/"+e,{method:"DELETE"}).then(t=>l(t=>t.filter(t=>t.id!==e)))}return Object(n.useEffect)(()=>function(){if(m){console.log("passed");fetch("https://imagix-app-api.herokuapp.com/images").then(e=>e.json()).then(e=>{const t=e.images.map(e=>({id:e._id,title:e.title,description:e.description,url:e.url}));l([...t]),console.log(a),s(!1)})}}()),i.a.createElement("div",null,i.a.createElement(p,null),i.a.createElement(k,{onAdd:function(e){const t=new FormData,a=document.querySelector('input[type="file"]');t.append("title",e.title),t.append("description",e.description),t.append("image",a.files[0]),fetch("https://imagix-app-api.herokuapp.com/images",{method:"POST",body:t}).then(e=>e.json()).then(e=>{console.log(e),l(t=>[...t,{id:e.imageCreated._id,url:e.imageCreated.url,title:e.imageCreated.title,description:e.imageCreated.description}])})}}),a.map((e,t)=>i.a.createElement(g,{id:e.id,key:t,title:e.title,description:e.description,url:e.url,onDelete:d})),i.a.createElement(u,null))};r.a.render(i.a.createElement(v,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.174f642a.chunk.js.map