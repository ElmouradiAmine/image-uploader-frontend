{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Image.jsx","components/CreateArea.jsx","components/App.jsx","index.js"],"names":["Header","Footer","year","Date","getFullYear","Image","props","console","log","url","className","title","description","src","alt","onClick","onDelete","id","style","color","backgroundColor","CreateArea","useState","isExpanded","setIsExpanded","image","setImage","handleChange","event","target","name","value","prevData","action","encType","method","placeholder","onChange","rows","type","accept","Zoom","in","Fab","onAdd","preventDefault","App","imageList","setImageList","loading","setLoading","deleteImage","fetch","then","res","filter","useEffect","reponse","json","data","mappedData","images","map","_id","fetchImages","formData","FormData","fileField","document","querySelector","append","files","body","result","imageCreated","index","key","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.174f642a.chunk.js","sourcesContent":["import React from \"react\";\nimport MonochromePhotosIcon from '@material-ui/icons/MonochromePhotos';\n\nfunction Header() {\n  return (\n    <header>\n       <h1><MonochromePhotosIcon/> Imagix </h1>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Footer() {\n  const year = new Date().getFullYear();\n  return (\n    <footer>\n      <p>Copyright â“’ {year} Amine Elmouradi</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nfunction Image(props) {\n  console.log(props.url);\n  return (\n    <div className=\"note\">\n      <h1>{props.title}</h1>\n      <p>{props.description}</p>\n\n      <img src={props.url} alt=\"img\"/>\n      <button\n        onClick={() => {\n          props.onDelete(props.id);\n        }}\n      >\n\n      \n        <DeleteIcon style={{\n          color:\"red\",\n          backgroundColor: \"transparent\"\n        }} />\n      </button>\n    </div>\n  );\n}\n\nexport default Image;\n","import React, { useState } from \"react\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { Fab } from \"@material-ui/core\";\nimport { Zoom } from \"@material-ui/core\";\n\nfunction CreateArea(props) {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [image, setImage] = useState({\n    title: \"\",\n    description: \"\"\n  });\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n\n    setImage(prevData => {\n      return {\n        ...prevData,\n        [name]: value\n      };\n    });\n  }\n\n  return (\n    <div>\n      <form action=\"/\" encType=\"multipart/form-data\" method=\"post\">\n        {isExpanded && (\n          <input\n            value={image.title}\n            name=\"title\"\n            placeholder=\"Title\"\n            onChange={handleChange}\n          />\n        )}\n        <textarea\n          value={image.description}\n          name=\"description\"\n          placeholder=\"Take a image...\"\n          rows={isExpanded ? \"3\" : \"1\"}\n          onChange={handleChange}\n          onClick={() => {\n            setIsExpanded(true);\n          }}\n        />\n        {isExpanded &&<input type=\"file\"\n       id=\"image\" name=\"image\"\n       accept=\"image/png, image/jpeg\"></input>}\n        <Zoom in={isExpanded}>\n          <Fab\n            className=\"add-button\"\n            onClick={event => {\n              props.onAdd(image);\n              setImage({\n                title: \"\",\n                description: \"\"\n              });\n              setIsExpanded(false);\n              event.preventDefault();\n            }}\n          >\n            <AddIcon />\n          </Fab>\n        </Zoom>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateArea;\n","import React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Image from \"./Image\";\nimport CreateArea from \"./CreateArea\";\n\nfunction App() {\n  const [imageList, setImageList] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => fetchImages());\n\n  function fetchImages() {\n    if (loading) {\n      console.log(\"passed\");\n      const apiUrl = \"https://imagix-app-api.herokuapp.com/images\";\n      fetch(apiUrl)\n        .then((reponse) => reponse.json())\n        .then((data) => {\n          const mappedData = data.images.map((image) => {\n            return {\n              id: image._id,\n              title: image.title,\n              description: image.description,\n              url: image.url,\n            };\n          });\n          setImageList([...mappedData]);\n          console.log(imageList);\n          setLoading(false);\n        });\n    }\n  }\n\n  function addImage(image) {\n    const formData = new FormData();\n    const fileField = document.querySelector('input[type=\"file\"]');\n    formData.append(\"title\", image.title);\n    formData.append(\"description\", image.description);\n    formData.append(\"image\", fileField.files[0]);\n    const url = \"https://imagix-app-api.herokuapp.com/images\";\n    fetch(url, {\n      method: \"POST\",\n      body: formData,\n    }).then((reponse) => reponse.json()).then((result) => {\n      console.log(result);\n      setImageList(prevData => [...prevData,{\n        id:result.imageCreated._id,\n        url: result.imageCreated.url,\n        title:  result.imageCreated.title,\n        description:  result.imageCreated.description,\n      }])\n    });\n  }\n\n  function deleteImage(id) {\n    fetch(\"https://imagix-app-api.herokuapp.com/images/\" + id, {\n      method: \"DELETE\",\n    }).then((res) =>\n      setImageList((prevData) => {\n        return prevData.filter((image) => image.id !== id);\n      })\n    );\n  }\n\n  return (\n    <div>\n      <Header />\n      \n      <CreateArea onAdd={addImage} />\n      {imageList.map((image, index) => (\n        <Image\n          id={image.id}\n          key={index}\n          title={image.title}\n          description={image.description}\n          url={image.url}\n          onDelete={deleteImage}\n        />\n      ))}\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n//CHALLENGE:\n//1. Implement the add note functionality.\n//- Create a constant that keeps track of the title and description.\n//- Pass the new note back to the App.\n//- Add new note to an array.\n//- Take array and render seperate Note components for each item.\n\n//2. Implement the delete note functionality.\n//- Callback from the Note component to trigger a delete function.\n//- Use the filter function to filter out the item that needs deletion.\n//- Pass a id over to the Note component, pass it back to the App when deleting.\n\n//This is the end result you're aiming for:\n//https://pogqj.csb.app/\n"],"sourceRoot":""}